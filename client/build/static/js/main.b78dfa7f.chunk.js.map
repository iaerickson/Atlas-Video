{"version":3,"sources":["components/AgoraVideoCall/index.jsx","assets/images/ag-login.png","utils/Validator.js","utils/Settings.js","pages/index/index.jsx","agora.config.js","pages/meeting/index.jsx","pages/App.jsx","serviceWorker.js","index.js"],"names":["tile_canvas","1","2","3","4","5","6","7","AgoraCanvas","props","_this","Object","C_Users_Ian_Desktop_NCB_Project3_Atlas_Video_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","_super","call","streamInit","uid","attendeeMode","videoProfile","config","defaultConfig","streamID","audio","video","screen","stream","AgoraRTC","createStream","merge","setVideoProfile","subscribeStreamEvents","rt","C_Users_Ian_Desktop_NCB_Project3_Atlas_Video_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__","client","on","evt","console","log","getId","Date","toLocaleTimeString","subscribe","err","removeStream","addStream","state","streamList","map","item","index","close","element","document","querySelector","parentNode","removeChild","tempList","C_Users_Ian_Desktop_NCB_Project3_Atlas_Video_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","splice","setState","push","arguments","length","undefined","some","concat","handleCamera","e","currentTarget","classList","toggle","localStream","isVideoOn","disableVideo","enableVideo","handleMic","isAudioOn","disableAudio","enableAudio","switchDisplay","contains","displayMode","error","hideRemote","id","Array","from","querySelectorAll","style","display","handleExit","unpublish","leave","readyState","window","location","hash","shareClient","shareStream","_this2","$","createClient","mode","transcode","init","appId","join","channel","publish","canvas","btnGroup","addEventListener","global","_toolbarToggle","clearTimeout","add","setTimeout","remove","no","dom","createElement","setAttribute","appendChild","play","player","resize","videoControlBtn","react__WEBPACK_IMPORTED_MODULE_6___default","a","onClick","className","title","audioControlBtn","switchDisplayBtn","hideRemoteBtn","exitBtn","gridGap","alignItems","justifyItems","gridTemplateRows","gridTemplateColumns","React","Component","module","exports","Validator","minLength","value","maxLength","validChar","test","isNonEmpty","RESOLUTION_ARR","120p,120p_1","120p_3","180p,180p_1","180p_3","180p_4","240p,240p_1","240p_3","240p_4","360p,360p_1","360p_3","360p_4","360p_6","360p_7","360p_8","360p_9","360p_10","360p_11","480p,480p_1","480p_2","480p_3","480p_4","480p_6","480p_8","480p_9","480p_10","720p,720p_1","720p_2","720p_3","720p_5","720p_6","1080p,1080p_1","1080p_2","1080p_3","1080p_5","1440p,1440p_1","1440p_2","4k,4k_1","4k_3","Index","classCallCheck","handleChannel","val","joinBtn","handleJoin","Cookies","baseMode","keyCode","_this3","react_default","index_InputChannel","onChange","placeholder","index_BaseOptions","index_AdvancedOptions","onRadioChange","onSelectChange","target","type","name","defaultChecked","disabled","href","InputChannel","_this4","_super2","validate","errorMsg","trim","handleChange","validateIcon","onInput","src","require","alt","BaseOptions","_this5","_super3","handleSelect","msg","label","message","active","_options","content","_this6","options","key","aria-haspopup","aria-controls","aria-hidden","role","AdvancedOptions","_this7","_super4","handleRadio","_this8","entries","split","defaultValue","AGORA_APP_ID","Meeting","possibleConstructorReturn","alert","AgoraVideoCall","App","react_router_dom","react_router","exact","path","component","Boolean","hostname","match","obj","ownProps","keys","i","resArray","ReactDOM","render","src_pages_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.b78dfa7f.chunk.js","sourcesContent":["import React from \"react\";\nimport { merge } from \"lodash\";\nimport AgoraRTC from \"agora-rtc-sdk\";\n\nimport \"./canvas.css\";\nimport \"../../assets/fonts/css/icons.css\";\n\nconst tile_canvas = {\n\t\"1\": [\"span 12/span 24\"],\n\t\"2\": [\"span 12/span 12/13/25\", \"span 12/span 12/13/13\"],\n\t\"3\": [\"span 6/span 12\", \"span 6/span 12\", \"span 6/span 12/7/19\"],\n\t\"4\": [\n\t\t\"span 6/span 12\",\n\t\t\"span 6/span 12\",\n\t\t\"span 6/span 12\",\n\t\t\"span 6/span 12/7/13\",\n\t],\n\t\"5\": [\n\t\t\"span 3/span 4/13/9\",\n\t\t\"span 3/span 4/13/13\",\n\t\t\"span 3/span 4/13/17\",\n\t\t\"span 3/span 4/13/21\",\n\t\t\"span 9/span 16/10/21\",\n\t],\n\t\"6\": [\n\t\t\"span 3/span 4/13/7\",\n\t\t\"span 3/span 4/13/11\",\n\t\t\"span 3/span 4/13/15\",\n\t\t\"span 3/span 4/13/19\",\n\t\t\"span 3/span 4/13/23\",\n\t\t\"span 9/span 16/10/21\",\n\t],\n\t\"7\": [\n\t\t\"span 3/span 4/13/5\",\n\t\t\"span 3/span 4/13/9\",\n\t\t\"span 3/span 4/13/13\",\n\t\t\"span 3/span 4/13/17\",\n\t\t\"span 3/span 4/13/21\",\n\t\t\"span 3/span 4/13/25\",\n\t\t\"span 9/span 16/10/21\",\n\t],\n};\n\n/**\n * @prop appId uid\n * @prop transcode attendeeMode videoProfile channel baseMode\n */\nclass AgoraCanvas extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.client = {};\n\t\tthis.localStream = {};\n\t\tthis.shareClient = {};\n\t\tthis.shareStream = {};\n\t\tthis.state = {\n\t\t\tdisplayMode: \"pip\",\n\t\t\tstreamList: [],\n\t\t\treadyState: false,\n\t\t};\n\t}\n\n\tcomponentWillMount() {\n\t\tlet $ = this.props;\n\t\t// init AgoraRTC local client\n\t\tthis.client = AgoraRTC.createClient({ mode: $.transcode });\n\t\tthis.client.init($.appId, () => {\n\t\t\tconsole.log(\"AgoraRTC client initialized\");\n\t\t\tthis.subscribeStreamEvents();\n\t\t\tthis.client.join($.appId, $.channel, $.uid, (uid) => {\n\t\t\t\tconsole.log(\"User \" + uid + \" join channel successfully\");\n\t\t\t\tconsole.log(\"At \" + new Date().toLocaleTimeString());\n\t\t\t\t// create local stream\n\t\t\t\t// It is not recommended to setState in function addStream\n\t\t\t\tthis.localStream = this.streamInit(uid, $.attendeeMode, $.videoProfile);\n\t\t\t\tthis.localStream.init(\n\t\t\t\t\t() => {\n\t\t\t\t\t\tif ($.attendeeMode !== \"audience\") {\n\t\t\t\t\t\t\tthis.addStream(this.localStream, true);\n\t\t\t\t\t\t\tthis.client.publish(this.localStream, (err) => {\n\t\t\t\t\t\t\t\tconsole.log(\"Publish local stream error: \" + err);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.setState({ readyState: true });\n\t\t\t\t\t},\n\t\t\t\t\t(err) => {\n\t\t\t\t\t\tconsole.log(\"getUserMedia failed\", err);\n\t\t\t\t\t\tthis.setState({ readyState: true });\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\t// add listener to control btn group\n\t\tlet canvas = document.querySelector(\"#ag-canvas\");\n\t\tlet btnGroup = document.querySelector(\".ag-btn-group\");\n\t\tcanvas.addEventListener(\"mousemove\", () => {\n\t\t\tif (global._toolbarToggle) {\n\t\t\t\tclearTimeout(global._toolbarToggle);\n\t\t\t}\n\t\t\tbtnGroup.classList.add(\"active\");\n\t\t\tglobal._toolbarToggle = setTimeout(function () {\n\t\t\t\tbtnGroup.classList.remove(\"active\");\n\t\t\t}, 2000);\n\t\t});\n\t}\n\n\t// componentWillUnmount () {\n\t//     // remove listener\n\t//     let canvas = document.querySelector('#ag-canvas')\n\t//     canvas.removeEventListener('mousemove')\n\t// }\n\n\tcomponentDidUpdate() {\n\t\t// rerendering\n\t\tlet canvas = document.querySelector(\"#ag-canvas\");\n\t\t// pip mode (can only use when less than 4 people in channel)\n\t\tif (this.state.displayMode === \"pip\") {\n\t\t\tlet no = this.state.streamList.length;\n\t\t\tif (no > 4) {\n\t\t\t\tthis.setState({ displayMode: \"tile\" });\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.state.streamList.map((item, index) => {\n\t\t\t\tlet id = item.getId();\n\t\t\t\tlet dom = document.querySelector(\"#ag-item-\" + id);\n\t\t\t\tif (!dom) {\n\t\t\t\t\tdom = document.createElement(\"section\");\n\t\t\t\t\tdom.setAttribute(\"id\", \"ag-item-\" + id);\n\t\t\t\t\tdom.setAttribute(\"class\", \"ag-item\");\n\t\t\t\t\tcanvas.appendChild(dom);\n\t\t\t\t\titem.play(\"ag-item-\" + id);\n\t\t\t\t}\n\t\t\t\t//determines how the images are being displayed in the canvas\n\t\t\t\t//localstream\n\t\t\t\tif (index === no - 1) {\n\t\t\t\t\tdom.setAttribute(\"style\", `grid-area: span 12/span 24/13/25`);\n\t\t\t\t}\n\t\t\t\t//renders all otherstreams\n\t\t\t\telse {\n\t\t\t\t\tdom.setAttribute(\n\t\t\t\t\t\t\"style\",\n\t\t\t\t\t\t`grid-area: span 3/span 4/${4 + 3 * index}/25;\n                    z-index:1;width:calc(100% - 20px);height:calc(100% - 20px)`\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\titem.player.resize && item.player.resize();\n\t\t\t});\n\t\t}\n\t\t// tile mode\n\t\telse if (this.state.displayMode === \"tile\") {\n\t\t\tlet no = this.state.streamList.length;\n\t\t\tthis.state.streamList.map((item, index) => {\n\t\t\t\tlet id = item.getId();\n\t\t\t\tlet dom = document.querySelector(\"#ag-item-\" + id);\n\t\t\t\tif (!dom) {\n\t\t\t\t\tdom = document.createElement(\"section\");\n\t\t\t\t\tdom.setAttribute(\"id\", \"ag-item-\" + id);\n\t\t\t\t\tdom.setAttribute(\"class\", \"ag-item\");\n\t\t\t\t\tcanvas.appendChild(dom);\n\t\t\t\t\titem.play(\"ag-item-\" + id);\n\t\t\t\t}\n\t\t\t\tdom.setAttribute(\"style\", `grid-area: ${tile_canvas[no][index]}`);\n\t\t\t\titem.player.resize && item.player.resize();\n\t\t\t});\n\t\t}\n\t\t// screen share mode (tbd)\n\t\telse if (this.state.displayMode === \"share\") {\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.client && this.client.unpublish(this.localStream);\n\t\tthis.localStream && this.localStream.close();\n\t\tthis.client &&\n\t\t\tthis.client.leave(\n\t\t\t\t() => {\n\t\t\t\t\tconsole.log(\"Client succeed to leave.\");\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tconsole.log(\"Client failed to leave.\");\n\t\t\t\t}\n\t\t\t);\n\t}\n\n\tstreamInit = (uid, attendeeMode, videoProfile, config) => {\n\t\tlet defaultConfig = {\n\t\t\tstreamID: uid,\n\t\t\taudio: true,\n\t\t\tvideo: true,\n\t\t\tscreen: false,\n\t\t};\n\t\t//Add more cases for different joining privs\n\t\tswitch (attendeeMode) {\n\t\t\tcase \"audio-only\":\n\t\t\t\tdefaultConfig.video = false;\n\t\t\t\tbreak;\n\t\t\tcase \"student\":\n\t\t\t\tdefaultConfig.audio = false;\n\t\t\t\tbreak;\n\t\t\tcase \"audience\":\n\t\t\t\tdefaultConfig.video = false;\n\t\t\t\tdefaultConfig.audio = false;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tcase \"video\":\n\t\t\t\tbreak;\n\t\t}\n\n\t\tlet stream = AgoraRTC.createStream(merge(defaultConfig, config));\n\t\tstream.setVideoProfile(videoProfile);\n\t\treturn stream;\n\t};\n\n\tsubscribeStreamEvents = () => {\n\t\tlet rt = this;\n\t\trt.client.on(\"stream-added\", function (evt) {\n\t\t\tlet stream = evt.stream;\n\t\t\tconsole.log(\"New stream added: \" + stream.getId());\n\t\t\tconsole.log(\"At \" + new Date().toLocaleTimeString());\n\t\t\tconsole.log(\"Subscribe \", stream);\n\t\t\trt.client.subscribe(stream, function (err) {\n\t\t\t\tconsole.log(\"Subscribe stream failed\", err);\n\t\t\t});\n\t\t});\n\n\t\trt.client.on(\"peer-leave\", function (evt) {\n\t\t\tconsole.log(\"Peer has left: \" + evt.uid);\n\t\t\tconsole.log(new Date().toLocaleTimeString());\n\t\t\tconsole.log(evt);\n\t\t\trt.removeStream(evt.uid);\n\t\t});\n\n\t\trt.client.on(\"stream-subscribed\", function (evt) {\n\t\t\tlet stream = evt.stream;\n\t\t\tconsole.log(\"Got stream-subscribed event\");\n\t\t\tconsole.log(new Date().toLocaleTimeString());\n\t\t\tconsole.log(\"Subscribe remote stream successfully: \" + stream.getId());\n\t\t\tconsole.log(evt);\n\t\t\trt.addStream(stream);\n\t\t});\n\n\t\trt.client.on(\"stream-removed\", function (evt) {\n\t\t\tlet stream = evt.stream;\n\t\t\tconsole.log(\"Stream removed: \" + stream.getId());\n\t\t\tconsole.log(new Date().toLocaleTimeString());\n\t\t\tconsole.log(evt);\n\t\t\trt.removeStream(stream.getId());\n\t\t});\n\t};\n\n\tremoveStream = (uid) => {\n\t\tthis.state.streamList.map((item, index) => {\n\t\t\tif (item.getId() === uid) {\n\t\t\t\titem.close();\n\t\t\t\tlet element = document.querySelector(\"#ag-item-\" + uid);\n\t\t\t\tif (element) {\n\t\t\t\t\telement.parentNode.removeChild(element);\n\t\t\t\t}\n\t\t\t\tlet tempList = [...this.state.streamList];\n\t\t\t\ttempList.splice(index, 1);\n\t\t\t\tthis.setState({\n\t\t\t\t\tstreamList: tempList,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t};\n\n\taddStream = (stream, push = false) => {\n\t\tlet repeatition = this.state.streamList.some((item) => {\n\t\t\treturn item.getId() === stream.getId();\n\t\t});\n\t\tif (repeatition) {\n\t\t\treturn;\n\t\t}\n\t\tif (push) {\n\t\t\tthis.setState({\n\t\t\t\tstreamList: this.state.streamList.concat([stream]),\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tstreamList: [stream].concat(this.state.streamList),\n\t\t\t});\n\t\t}\n\t};\n\n\thandleCamera = (e) => {\n\t\te.currentTarget.classList.toggle(\"off\");\n\t\tthis.localStream.isVideoOn()\n\t\t\t? this.localStream.disableVideo()\n\t\t\t: this.localStream.enableVideo();\n\t};\n\n\thandleMic = (e) => {\n\t\te.currentTarget.classList.toggle(\"off\");\n\t\tthis.localStream.isAudioOn()\n\t\t\t? this.localStream.disableAudio()\n\t\t\t: this.localStream.enableAudio();\n\t};\n\n\tswitchDisplay = (e) => {\n\t\tif (\n\t\t\te.currentTarget.classList.contains(\"disabled\") ||\n\t\t\tthis.state.streamList.length <= 1\n\t\t) {\n\t\t\treturn;\n\t\t}\n\t\tif (this.state.displayMode === \"pip\") {\n\t\t\tthis.setState({ displayMode: \"tile\" });\n\t\t} else if (this.state.displayMode === \"tile\") {\n\t\t\tthis.setState({ displayMode: \"pip\" });\n\t\t} else if (this.state.displayMode === \"share\") {\n\t\t\t// do nothing or alert, tbd\n\t\t} else {\n\t\t\tconsole.error(\"Display Mode can only be tile/pip/share\");\n\t\t}\n\t};\n\n\thideRemote = (e) => {\n\t\tif (\n\t\t\te.currentTarget.classList.contains(\"disabled\") ||\n\t\t\tthis.state.streamList.length <= 1\n\t\t) {\n\t\t\treturn;\n\t\t}\n\t\tlet list;\n\t\tlet id = this.state.streamList[this.state.streamList.length - 1].getId();\n\t\tlist = Array.from(\n\t\t\tdocument.querySelectorAll(`.ag-item:not(#ag-item-${id})`)\n\t\t);\n\t\tlist.map((item) => {\n\t\t\tif (item.style.display !== \"none\") {\n\t\t\t\titem.style.display = \"none\";\n\t\t\t} else {\n\t\t\t\titem.style.display = \"block\";\n\t\t\t}\n\t\t});\n\t};\n\n\thandleExit = (e) => {\n\t\tif (e.currentTarget.classList.contains(\"disabled\")) {\n\t\t\treturn;\n\t\t}\n\t\ttry {\n\t\t\tthis.client && this.client.unpublish(this.localStream);\n\t\t\tthis.localStream && this.localStream.close();\n\t\t\tthis.client &&\n\t\t\t\tthis.client.leave(\n\t\t\t\t\t() => {\n\t\t\t\t\t\tconsole.log(\"Client succeed to leave.\");\n\t\t\t\t\t},\n\t\t\t\t\t() => {\n\t\t\t\t\t\tconsole.log(\"Client failed to leave.\");\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t} finally {\n\t\t\tthis.setState({ readyState: false });\n\t\t\tthis.client = null;\n\t\t\tthis.localStream = null;\n\t\t\t// redirect to index\n\t\t\twindow.location.hash = \"\";\n\t\t}\n\t};\n\n\trender() {\n\t\tconst style = {\n\t\t\tdisplay: \"grid\",\n\t\t\tgridGap: \"10px\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyItems: \"center\",\n\t\t\tgridTemplateRows: \"repeat(12, auto)\",\n\t\t\tgridTemplateColumns: \"repeat(24, auto)\",\n\t\t};\n\t\tconst videoControlBtn =\n\t\t\tthis.props.attendeeMode === \"video\" ? (\n\t\t\t\t<span\n\t\t\t\t\tonClick={this.handleCamera}\n\t\t\t\t\tclassName='ag-btn videoControlBtn'\n\t\t\t\t\ttitle='Enable/Disable Video'\n\t\t\t\t>\n\t\t\t\t\t<i className='ag-icon ag-icon-camera'></i>\n\t\t\t\t\t<i className='ag-icon ag-icon-camera-off'></i>\n\t\t\t\t</span>\n\t\t\t) : (\n\t\t\t\t\"\"\n\t\t\t);\n\n\t\tconst audioControlBtn =\n\t\t\tthis.props.attendeeMode !== \"audience\" ? (\n\t\t\t\t<span\n\t\t\t\t\tonClick={this.handleMic}\n\t\t\t\t\tclassName='ag-btn audioControlBtn'\n\t\t\t\t\ttitle='Enable/Disable Audio'\n\t\t\t\t>\n\t\t\t\t\t<i className='ag-icon ag-icon-mic'></i>\n\t\t\t\t\t<i className='ag-icon ag-icon-mic-off'></i>\n\t\t\t\t</span>\n\t\t\t) : (\n\t\t\t\t\"\"\n\t\t\t);\n\n\t\tconst switchDisplayBtn = (\n\t\t\t<span\n\t\t\t\tonClick={this.switchDisplay}\n\t\t\t\tclassName={\n\t\t\t\t\tthis.state.streamList.length > 4\n\t\t\t\t\t\t? \"ag-btn displayModeBtn disabled\"\n\t\t\t\t\t\t: \"ag-btn displayModeBtn\"\n\t\t\t\t}\n\t\t\t\ttitle='Switch Display Mode'\n\t\t\t>\n\t\t\t\t<i className='ag-icon ag-icon-switch-display'></i>\n\t\t\t</span>\n\t\t);\n\t\tconst hideRemoteBtn = (\n\t\t\t<span\n\t\t\t\tclassName={\n\t\t\t\t\tthis.state.streamList.length > 4 || this.state.displayMode !== \"pip\"\n\t\t\t\t\t\t? \"ag-btn disableRemoteBtn disabled\"\n\t\t\t\t\t\t: \"ag-btn disableRemoteBtn\"\n\t\t\t\t}\n\t\t\t\tonClick={this.hideRemote}\n\t\t\t\ttitle='Hide Remote Stream'\n\t\t\t>\n\t\t\t\t<i className='ag-icon ag-icon-remove-pip'></i>\n\t\t\t</span>\n\t\t);\n\t\tconst exitBtn = (\n\t\t\t<span\n\t\t\t\tonClick={this.handleExit}\n\t\t\t\tclassName={\n\t\t\t\t\tthis.state.readyState ? \"ag-btn exitBtn\" : \"ag-btn exitBtn disabled\"\n\t\t\t\t}\n\t\t\t\ttitle='Exit'\n\t\t\t>\n\t\t\t\t<i className='ag-icon ag-icon-leave'></i>\n\t\t\t</span>\n\t\t);\n\n\t\treturn (\n\t\t\t<div id='ag-canvas' style={style}>\n\t\t\t\t<div className='ag-btn-group'>\n\t\t\t\t\t{exitBtn}\n\t\t\t\t\t{videoControlBtn}\n\t\t\t\t\t{audioControlBtn}\n\t\t\t\t\t{/* <span className=\"ag-btn shareScreenBtn\" title=\"Share Screen\">\n                        <i className=\"ag-icon ag-icon-screen-share\"></i>\n                    </span> */}\n\t\t\t\t\t{switchDisplayBtn}\n\t\t\t\t\t{hideRemoteBtn}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default AgoraCanvas;\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAPCAYAAAGega+EAAAABGdBTUEAALGPC/xhBQAAASFJREFUOBHNk71qAkEUhR3jDwGFpLGSCBaCjZB0VoEQErAWHyMvYKFWiiD4LFaWFmmCnW9gmyZlcCBsvqM7G2aDu9p54XDn3HPu3ZnZ3UyGCIJgBG60GIQFa1QV+Qsnuwrc7tcSwAcYgpJ6Jyg750zPaplhuwZ3YK3NzJP60L+zGL6STGhXMhVTTPlIZ2wnIizgNce1yUfIkyvE8q0x5k0d/ZjgUfSy9lTwqv/JTqbUONl0eFXH5xV1uhf0dui5J1fBBmyB5XRj8iEwt9xaGd5zXJNeIQswBGknxeJFA9bkaQ+aOgCxD9EzJxJ6LSicdEuJk0Lx8gbl2NkKLHVW8rmX/UxPnsu2hoUXDOxSmIIf8A4qQH/1J9D3UQczmvW3R/ELvLZ7YNQHvpUAAAAASUVORK5CYII=\"","export default {\n  minLength(value, length) {\n    return value.length < length ?\n      1 : 0\n  },\n  maxLength(value, length) {\n    return value.length > length ?\n      1 : 0\n  },\n  validChar(value) {\n    return !/^[0-9a-zA-Z\\_]+$/.test(value) ?\n      1 : 0\n  },\n  isNonEmpty(value) {\n    return value === '' ?\n      1 : 0\n  }\n}","export const RESOLUTION_ARR = {\n  '120p,120p_1': [160, 120, 15, 65],\n  '120p_3': [120, 120, 15, 50],\n  '180p,180p_1': [320, 180, 15, 140],\n  '180p_3': [180, 180, 15, 100],\n  '180p_4': [240, 180, 15, 120],\n  '240p,240p_1': [320, 240, 15, 200],\n  '240p_3': [240, 240, 15, 140],\n  '240p_4': [424, 240, 15, 220],\n  '360p,360p_1': [640, 360, 15, 400],\n  '360p_3': [360, 360, 15, 260],\n  '360p_4': [640, 360, 30, 600],\n  '360p_6': [360, 360, 30, 400],\n  '360p_7': [480, 360, 15, 320],\n  '360p_8': [480, 360, 30, 490],\n  '360p_9': [640, 360, 15, 800],\n  '360p_10': [640, 360, 24, 800],\n  '360p_11': [640, 360, 24, 1000],\n  '480p,480p_1': [640, 480, 15, 500],\n  '480p_2': [640, 480, 30, 1000],\n  '480p_3': [480, 480, 15, 400],\n  '480p_4': [640, 480, 30, 750],\n  '480p_6': [480, 480, 30, 600],\n  '480p_8': [848, 480, 15, 610],\n  '480p_9': [848, 480, 30, 930],\n  '480p_10': [640, 480, 10, 400],\n  '720p,720p_1': [1280, 720, 15, 1130],\n  '720p_2': [1280, 720, 15, 2080],\n  '720p_3': [1280, 720, 30, 1710],\n  '720p_5': [960, 720, 15, 910],\n  '720p_6': [960, 720, 30, 1380],\n  '1080p,1080p_1': [1920, 1080, 15, 2080],\n  '1080p_2': [1920, 1080, 30, 3000],\n  '1080p_3': [1920, 1080, 30, 3150],\n  '1080p_5': [1920, 1080, 60, 4780],\n  '1440p,1440p_1': [2560, 1440, 30, 4850],\n  '1440p_2': [2560, 1440, 60, 7350],\n  '4k,4k_1': [3840, 2160, 30, 8910],\n  '4k_3': [3840, 2160, 60, 13500],\n}\n\nexport const SHARE_ID = 1","import React from \"react\";\nimport * as Cookies from \"js-cookie\";\n\nimport \"../../assets/fonts/css/icons.css\";\nimport Validator from \"../../utils/Validator\";\nimport { RESOLUTION_ARR } from \"../../utils/Settings\";\nimport \"./index.css\";\n\nclass Index extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tjoinBtn: false,\n\t\t\tchannel: \"\",\n\t\t\tbaseMode: \"avc\",\n\t\t\ttranscode: \"interop\",\n\t\t\tattendeeMode: \"video\",\n\t\t\tvideoProfile: \"480p_4\",\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\twindow.addEventListener(\"keypress\", (e) => {\n\t\t\te.keyCode === 13 && this.handleJoin();\n\t\t});\n\t}\n\n\t/**\n\t *\n\t * @param {String} val 0-9 a-z A-Z _ only\n\t * @param {Boolean} state\n\t */\n\thandleChannel = (val, state) => {\n\t\tthis.setState({\n\t\t\tchannel: val,\n\t\t\tjoinBtn: state,\n\t\t});\n\t};\n\n\thandleJoin = () => {\n\t\tif (!this.state.joinBtn) {\n\t\t\treturn;\n\t\t}\n\t\tconsole.log(this.state);\n\t\tCookies.set(\"channel\", this.state.channel);\n\t\tCookies.set(\"baseMode\", this.state.baseMode);\n\t\tCookies.set(\"transcode\", this.state.transcode);\n\t\tCookies.set(\"attendeeMode\", this.state.attendeeMode);\n\t\tCookies.set(\"videoProfile\", this.state.videoProfile);\n\t\twindow.location.hash = \"meeting\";\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className='wrapper index'>\n\t\t\t\t<div className='ag-header'></div>\n\t\t\t\t<div className='ag-main'>\n\t\t\t\t\t<section className='login-wrapper'>\n\t\t\t\t\t\t<div className='login-header'>\n\t\t\t\t\t\t\t{/* <img src={require('../../assets/images/ag-logo.png')} alt=\"\" /> */}\n\t\t\t\t\t\t\t<p className='login-title'>Welcome to Atlas</p>\n\t\t\t\t\t\t\t<p className='login-subtitle'>\n\t\t\t\t\t\t\t\tHow Would You Like To Learn Today?\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='login-body'>\n\t\t\t\t\t\t\t<div className='columns'>\n\t\t\t\t\t\t\t\t<div className='column is-12'>\n\t\t\t\t\t\t\t\t\t<InputChannel\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleChannel}\n\t\t\t\t\t\t\t\t\t\tplaceholder='Input a room name here'\n\t\t\t\t\t\t\t\t\t></InputChannel>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='columns'>\n\t\t\t\t\t\t\t\t<div className='column is-7'>\n\t\t\t\t\t\t\t\t\t<BaseOptions\n\t\t\t\t\t\t\t\t\t\tonChange={(val) => this.setState({ baseMode: val })}\n\t\t\t\t\t\t\t\t\t></BaseOptions>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='column is-5'>\n\t\t\t\t\t\t\t\t\t<AdvancedOptions\n\t\t\t\t\t\t\t\t\t\tonRadioChange={(val) => this.setState({ transcode: val })}\n\t\t\t\t\t\t\t\t\t\tonSelectChange={(val) =>\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({ videoProfile: val })\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t></AdvancedOptions>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='columns'>\n\t\t\t\t\t\t\t\t<div className='column'>\n\t\t\t\t\t\t\t\t\t<div id='attendeeMode' className='control'>\n\t\t\t\t\t\t\t\t\t\t<label className='radio'>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ attendeeMode: e.target.value })\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue='video'\n\t\t\t\t\t\t\t\t\t\t\t\ttype='radio'\n\t\t\t\t\t\t\t\t\t\t\t\tname='attendee'\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultChecked\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<span className='radio-btn'></span>\n\t\t\t\t\t\t\t\t\t\t\t<span className='radio-img video'></span>\n\t\t\t\t\t\t\t\t\t\t\t<span className='radio-msg'>\n\t\t\t\t\t\t\t\t\t\t\t\tVideo Call : join with video call\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t<label className='radio'>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ attendeeMode: e.target.value })\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue='audio-only'\n\t\t\t\t\t\t\t\t\t\t\t\ttype='radio'\n\t\t\t\t\t\t\t\t\t\t\t\tname='attendee'\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<span className='radio-btn'></span>\n\t\t\t\t\t\t\t\t\t\t\t<span className='radio-img audio'></span>\n\t\t\t\t\t\t\t\t\t\t\t<span className='radio-msg'>\n\t\t\t\t\t\t\t\t\t\t\t\tAudio-only : join with audio call\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t<label className='radio'>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ attendeeMode: e.target.value })\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue='audience'\n\t\t\t\t\t\t\t\t\t\t\t\ttype='radio'\n\t\t\t\t\t\t\t\t\t\t\t\tname='attendee'\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<span className='radio-btn'></span>\n\t\t\t\t\t\t\t\t\t\t\t<span className='radio-img audience'></span>\n\t\t\t\t\t\t\t\t\t\t\t<span className='radio-msg'>\n\t\t\t\t\t\t\t\t\t\t\t\tAudience : join as an audience\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='login-footer'>\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\tid='joinBtn'\n\t\t\t\t\t\t\t\tonClick={this.handleJoin}\n\t\t\t\t\t\t\t\tdisabled={!this.state.joinBtn}\n\t\t\t\t\t\t\t\tclassName='ag-rounded button is-info'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tJoin\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\t\t\t\t<div className='ag-footer'>\n\t\t\t\t\t<a className='ag-href' href='https://www.agora.io'></a>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<span> </span>\n\t\t\t\t\t\t<span className='ag-contact'></span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nclass InputChannel extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\terrorMsg: \"\",\n\t\t\tstate: \"\",\n\t\t};\n\t}\n\n\tvalidate = (val) => {\n\t\tthis.setState({\n\t\t\tstate: \"\",\n\t\t\terrorMsg: \"\",\n\t\t});\n\t\tif (Validator.isNonEmpty(val.trim())) {\n\t\t\tthis.setState({\n\t\t\t\terrorMsg: \"Cannot be empty!\",\n\t\t\t\tstate: \"is-danger\",\n\t\t\t});\n\t\t\treturn false;\n\t\t} else if (Validator.minLength(val.trim(), 1)) {\n\t\t\tthis.setState({\n\t\t\t\terrorMsg: \"No shorter than 1!\",\n\t\t\t\tstate: \"is-danger\",\n\t\t\t});\n\t\t\treturn false;\n\t\t} else if (Validator.maxLength(val.trim(), 16)) {\n\t\t\tthis.setState({\n\t\t\t\terrorMsg: \"No longer than 16!\",\n\t\t\t\tstate: \"is-danger\",\n\t\t\t});\n\t\t\treturn false;\n\t\t} else if (Validator.validChar(val.trim())) {\n\t\t\tthis.setState({\n\t\t\t\tstate: \"is-danger\",\n\t\t\t\terrorMsg:\n\t\t\t\t\t'Only capital or lower-case letter, number and \"_\" are permitted!',\n\t\t\t});\n\t\t\treturn false;\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tstate: \"is-success\",\n\t\t\t});\n\t\t\treturn true;\n\t\t}\n\t};\n\n\thandleChange = (e) => {\n\t\tlet state = this.validate(e.target.value);\n\t\tthis.props.onChange(e.target.value, state);\n\t};\n\n\trender() {\n\t\tlet validateIcon = \"\";\n\t\tswitch (this.state.state) {\n\t\t\tdefault:\n\t\t\tcase \"\":\n\t\t\t\tvalidateIcon = \"\";\n\t\t\t\tbreak;\n\t\t\tcase \"is-success\":\n\t\t\t\tvalidateIcon = <i className='ag-icon ag-icon-valid'></i>;\n\t\t\t\tbreak;\n\t\t\tcase \"is-danger\":\n\t\t\t\tvalidateIcon = <i className='ag-icon ag-icon-invalid'></i>;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn (\n\t\t\t<div className='channel-wrapper control has-icons-left'>\n\t\t\t\t<input\n\t\t\t\t\tonInput={this.handleChange}\n\t\t\t\t\tid='channel'\n\t\t\t\t\tclassName={\"ag-rounded input \" + this.state.state}\n\t\t\t\t\ttype='text'\n\t\t\t\t\tplaceholder={this.props.placeholder}\n\t\t\t\t/>\n\t\t\t\t<span className='icon is-small is-left'>\n\t\t\t\t\t<img src={require(\"../../assets/images/ag-login.png\")} alt='' />\n\t\t\t\t</span>\n\t\t\t\t<span className='validate-icon'>{validateIcon}</span>\n\t\t\t\t<div className='validate-msg'>{this.state.errorMsg}</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nclass BaseOptions extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._options = [\n\t\t\t{\n\t\t\t\tlabel: \"Tutoring Session\",\n\t\t\t\tvalue: \"avc\",\n\t\t\t\tcontent: \"One to one and group calls\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: \"Classroom\",\n\t\t\t\tvalue: \"al\",\n\t\t\t\tcontent: \"Classroom setting with teacher and student-specific features\",\n\t\t\t},\n\t\t];\n\t\tthis.state = {\n\t\t\tactive: false,\n\t\t\tmessage: \"Type of Session\",\n\t\t};\n\t}\n\n\thandleSelect = (item) => {\n\t\tlet msg = item.label;\n\t\tlet val = item.value;\n\t\tthis.setState({\n\t\t\tmessage: msg,\n\t\t\tactive: false,\n\t\t});\n\t\tthis.props.onChange(val);\n\t};\n\n\trender() {\n\t\tconst options = this._options.map((item, index) => {\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tclassName='dropdown-item'\n\t\t\t\t\tkey={index}\n\t\t\t\t\tonClick={(e) => this.handleSelect(item, e)}\n\t\t\t\t>\n\t\t\t\t\t<p>{item.label}</p>\n\t\t\t\t\t<hr />\n\t\t\t\t\t<p>{item.content}</p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t});\n\n\t\treturn (\n\t\t\t<div className={this.state.active ? \"dropdown is-active\" : \"dropdown\"}>\n\t\t\t\t<div\n\t\t\t\t\tclassName='dropdown-trigger'\n\t\t\t\t\tonClick={() => this.setState({ active: !this.state.active })}\n\t\t\t\t>\n\t\t\t\t\t<a\n\t\t\t\t\t\tid='baseMode'\n\t\t\t\t\t\tclassName='ag-rounded button'\n\t\t\t\t\t\taria-haspopup='true'\n\t\t\t\t\t\taria-controls='baseModeOptions'\n\t\t\t\t\t>\n\t\t\t\t\t\t<span id='baseOptionLabel'>{this.state.message}</span>\n\t\t\t\t\t\t<span className='icon is-small'>\n\t\t\t\t\t\t\t<i className='ag-icon ag-icon-arrow-down' aria-hidden='true'></i>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<div className='dropdown-menu' id='baseModeOptions' role='menu'>\n\t\t\t\t\t<div className='dropdown-content'>{options}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nclass AdvancedOptions extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tactive: false,\n\t\t};\n\t}\n\n\thandleRadio = (e) => {\n\t\tthis.props.onRadioChange(e.target.value);\n\t};\n\n\thandleSelect = (e) => {\n\t\tthis.props.onSelectChange(e.target.value);\n\t};\n\n\trender() {\n\t\tconst options = Object.entries(RESOLUTION_ARR).map((item, index) => {\n\t\t\treturn (\n\t\t\t\t<option key={index} value={item[0].split(\",\")[0]}>\n\t\t\t\t\t{item[1][0]}x {item[1][1]}, {item[1][2]}fps, {item[1][3]}kbps\n\t\t\t\t</option>\n\t\t\t);\n\t\t});\n\t\treturn (\n\t\t\t<div className={this.state.active ? \"dropdown is-active\" : \"dropdown\"}>\n\t\t\t\t<div\n\t\t\t\t\tclassName='dropdown-trigger'\n\t\t\t\t\tonClick={() => this.setState({ active: !this.state.active })}\n\t\t\t\t>\n\t\t\t\t\t<a\n\t\t\t\t\t\tid='advancedProfile'\n\t\t\t\t\t\tclassName='ag-rounded button'\n\t\t\t\t\t\taria-haspopup='true'\n\t\t\t\t\t\taria-controls='advancedOptions'\n\t\t\t\t\t>\n\t\t\t\t\t\t<span>Advanced</span>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<div className='dropdown-menu' id='advancedOptions' role='menu'>\n\t\t\t\t\t<div className='dropdown-content'>\n\t\t\t\t\t\t<div className='dropdown-item'>\n\t\t\t\t\t\t\t<div className='control'>\n\t\t\t\t\t\t\t\t<label className='radio'>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tvalue=''\n\t\t\t\t\t\t\t\t\t\ttype='radio'\n\t\t\t\t\t\t\t\t\t\tname='transcode'\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleRadio}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<span>VP8-only</span>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t<label className='radio'>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tvalue='interop'\n\t\t\t\t\t\t\t\t\t\ttype='radio'\n\t\t\t\t\t\t\t\t\t\tdefaultChecked\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleRadio}\n\t\t\t\t\t\t\t\t\t\tname='transcode'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<span>VP8 &amp; H264</span>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t<label className='radio'>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tvalue='h264_interop'\n\t\t\t\t\t\t\t\t\t\ttype='radio'\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleRadio}\n\t\t\t\t\t\t\t\t\t\tname='transcode'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<span>H264-only</span>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='dropdown-item'>\n\t\t\t\t\t\t\t<div className='select is-rounded'>\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tonChange={this.handleSelect}\n\t\t\t\t\t\t\t\t\tdefaultValue='480p_4'\n\t\t\t\t\t\t\t\t\tid='videoProfile'\n\t\t\t\t\t\t\t\t\tclassName='ag-rounded is-clipped'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{options}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Index;\n","export const AGORA_APP_ID = '39723728c05a49e0a905008432adb53e' // set your app id here","import React from \"react\";\nimport * as Cookies from \"js-cookie\";\n\nimport \"./meeting.css\";\nimport AgoraVideoCall from \"../../components/AgoraVideoCall\";\nimport { AGORA_APP_ID } from \"../../agora.config\";\n\nclass Meeting extends React.Component {\n  constructor(props) {\n    super(props);\n    this.videoProfile = Cookies.get(\"videoProfile\").split(\",\")[0] || \"480p_4\";\n    this.channel = Cookies.get(\"channel\") || \"test\";\n    this.transcode = Cookies.get(\"transcode\") || \"interop\";\n    this.attendeeMode = Cookies.get(\"attendeeMode\") || \"video\";\n    this.baseMode = Cookies.get(\"baseMode\") || \"avc\";\n    this.appId = AGORA_APP_ID;\n    if (!this.appId) {\n      return alert(\"Get App ID first!\");\n    }\n    this.uid = undefined;\n  }\n\n  render() {\n    return (\n      <div className=\"wrapper meeting\">\n        <div className=\"ag-header\">\n          <div className=\"ag-header-lead\">\n            {/* <img\n              className=\"header-logo\"\n              src={require(\"../../assets/images/ag-logo.png\")}\n              alt=\"\"\n            /> */}\n            {/* <span>AgoraWeb v2.1</span> */}\n          </div>\n          <div className=\"ag-header-msg\">\n            Room:&nbsp;<span id=\"room-name\">{this.channel}</span>\n          </div>\n        </div>\n        <div className=\"ag-main\">\n          <div className=\"ag-container\">\n            <AgoraVideoCall\n              videoProfile={this.videoProfile}\n              channel={this.channel}\n              transcode={this.transcode}\n              attendeeMode={this.attendeeMode}\n              baseMode={this.baseMode}\n              appId={this.appId}\n              uid={this.uid}\n            />\n          </div>\n        </div>\n        <div className=\"ag-footer\">\n          {/* <a className=\"ag-href\" href=\"https://www.agora.io\">\n            {/* <span>Powered By Agora</span> */}\n          {/* </a> */} \n          {/* <span>Talk to Support: 400 632 6626</span> */}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Meeting;\n","import React, { Component } from 'react'\nimport { HashRouter as Router, Route } from 'react-router-dom'\nimport 'bulma/css/bulma.css'\n\nimport './App.css'\nimport Index from './index'\nimport Meeting from './meeting'\n\nclass App extends Component {\n  render() {\n    return (\n      <Router>\n        <div className=\"full\">\n          <Route exact path=\"/\" component={Index} />\n          <Route path=\"/meeting\" component={Meeting} />\n        </div>\n      </Router>\n    )\n  }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './pages/App';\nimport * as serviceWorker from './serviceWorker';\n\nconst polyfill = (() => {\n  // Object.entries\n  if (!Object.entries)\n  Object.entries = function( obj ){\n    var ownProps = Object.keys( obj ),\n        i = ownProps.length,\n        resArray = new Array(i); // preallocate the Array\n    while (i--)\n      resArray[i] = [ownProps[i], obj[ownProps[i]]];\n    \n    return resArray;\n  }\n})();\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}